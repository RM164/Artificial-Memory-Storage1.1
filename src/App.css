/* 基础占满屏幕 */
html, body, #root { height: 100%; margin: 0; }
body { overflow: hidden; }

/* 外层：居中一个“手机画幅” */
.app {
  height: 100svh;
  width: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center; /* ✅ 居中关键 */
  background: radial-gradient(1200px 900px at 50% 30%, rgba(20,18,30,0.98), #07060c);
}

/* 全局星空画布 */
.starfield {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  filter: contrast(1.15) brightness(0.9);
}

/* 手机画幅（像真正H5居中显示） */
.phoneFrame {
  position: relative;
  z-index: 1;
  width: min(420px, 100vw);
  height: 100svh;
  margin: 0 auto;

  /* ✅ 让你一眼看出“居中画幅” */
  box-shadow: 0 20px 80px rgba(0,0,0,0.35);
  border-radius: 18px;
  overflow: hidden;
}


/* Swiper 充满画幅 */
.swiper {
  height: 100svh;
  width: 100%;
}

/* 页面容器 */
.page {
  height: 100svh;
  width: 100%;
  box-sizing: border-box;
  position: relative;
  padding: 56px 22px 40px;
  overflow: hidden;
  user-select: none;
}

/* 内容区（抬高层级） */
.content {
  position: relative;
  z-index: 5;
}

/* 轻薄光斑呼吸层（更唯美） */
.bloom {
  position: absolute;
  inset: -60px;
  z-index: 2;
  pointer-events: none;
  opacity: 0.9;
  animation: bloomFloat 9s ease-in-out infinite;
}

@keyframes bloomFloat {
  0%,100% { transform: translateY(0px); filter: blur(10px); }
  50% { transform: translateY(-14px); filter: blur(8px); }
}

/* 标题样式 */
.heading {
  margin: 0 0 14px 0;
  letter-spacing: 0.06em;
  text-shadow: 0 10px 30px rgba(0,0,0,0.25);
}
.heading-title {
  font-size: 26px;
  font-weight: 600;
}
.heading-subtitle {
  font-size: 20px;
  font-weight: 600;
}

/* 正文逐行 */
.lines { margin-top: 6px; }
.line {
  margin: 0 0 10px 0;
  font-size: 16px;
  line-height: 1.95;
  opacity: 0.94;
  white-space: pre-wrap;
}

/* 提示 */
.hint{
  position: absolute;
  left: 0; right: 0; bottom: 14px;
  text-align: center;
  font-size: 12px;
  opacity: 0.55;
  z-index: 6;
  pointer-events: none;
}

/* 点击爆闪 canvas */
.burst{
  position: absolute;
  inset: 0;
  z-index: 4;
  pointer-events: none;
}

/* 三套主题背景：warm / pink / snow */
.page-warm {
  color: rgba(28, 18, 8, 0.92);
  background:
    radial-gradient(900px 600px at 25% 15%, rgba(255,255,255,0.88), rgba(255,230,200,0.36)),
    linear-gradient(160deg, #ffe9c9, #fff6e8);
}
.page-warm .bloom{
  background:
    radial-gradient(260px 220px at 22% 28%, rgba(255,186,120,0.26), transparent 60%),
    radial-gradient(320px 260px at 78% 64%, rgba(255,240,210,0.22), transparent 60%);
}

.page-pink {
  color: rgba(26, 14, 22, 0.92);
  background:
    radial-gradient(900px 680px at 18% 14%, rgba(255,255,255,0.88), rgba(255,205,228,0.34)),
    linear-gradient(160deg, #ffe6f1, #f3f0ff);
}
.page-pink .bloom{
  background:
    radial-gradient(260px 220px at 24% 30%, rgba(255,170,215,0.22), transparent 60%),
    radial-gradient(320px 260px at 76% 62%, rgba(190,160,255,0.18), transparent 60%);
}

.page-snow {
  color: rgba(16, 18, 26, 0.92);
  background:
    radial-gradient(900px 680px at 18% 14%, rgba(255,255,255,0.92), rgba(210,235,255,0.38)),
    linear-gradient(160deg, #eaf6ff, #f7fbff);
}
.page-snow .bloom{
  background:
    radial-gradient(280px 240px at 22% 30%, rgba(170,220,255,0.20), transparent 60%),
    radial-gradient(340px 280px at 76% 62%, rgba(255,255,255,0.25), transparent 60%);
}

/* 飘雪：3层不同速度与大小（浪漫氛围） */
.snow {
  position: absolute;
  inset: -40px;
  z-index: 3;
  pointer-events: none;
  background-repeat: repeat;
  opacity: 0.55;
  filter: blur(0px);
  mix-blend-mode: screen;
}

.snow-1 {
  background-image:
    radial-gradient(2px 2px at 10px 20px, rgba(255,255,255,0.85) 50%, transparent 55%),
    radial-gradient(1px 1px at 60px 80px, rgba(255,255,255,0.8) 50%, transparent 55%),
    radial-gradient(1.5px 1.5px at 120px 140px, rgba(255,255,255,0.75) 50%, transparent 55%);
  background-size: 160px 180px;
  animation: snowFall 9s linear infinite;
}

.snow-2 {
  background-image:
    radial-gradient(1.5px 1.5px at 20px 30px, rgba(255,255,255,0.75) 50%, transparent 55%),
    radial-gradient(1px 1px at 90px 120px, rgba(255,255,255,0.7) 50%, transparent 55%),
    radial-gradient(2px 2px at 150px 60px, rgba(255,255,255,0.65) 50%, transparent 55%);
  background-size: 220px 240px;
  animation: snowFall 13s linear infinite;
  opacity: 0.45;
}

.snow-3 {
  background-image:
    radial-gradient(1px 1px at 40px 50px, rgba(255,255,255,0.65) 50%, transparent 55%),
    radial-gradient(1.3px 1.3px at 140px 160px, rgba(255,255,255,0.6) 50%, transparent 55%),
    radial-gradient(1px 1px at 200px 90px, rgba(255,255,255,0.55) 50%, transparent 55%);
  background-size: 280px 300px;
  animation: snowFall 17s linear infinite;
  opacity: 0.35;
}

@keyframes snowFall {
  from { transform: translateY(-40px); }
  to   { transform: translateY(220px); }
}

/* ✅ 确保每一页占满容器 */
.swiper-slide {
  height: 100%;
}

/* 强制让内容显示在最上层 */
.content { position: relative; z-index: 50 !important; }

/* 强制文字颜色可见（避免被某些样式覆盖成透明/太浅） */
.page { color: #111 !important; }
.page-snow { color: #0c1320 !important; }
.page-pink { color: #2a0f1f !important; }
.page-warm { color: #2b1a08 !important; }

/* Swiper 高度兜底 */
.swiper, .swiper-slide { height: 100% !important; }

/* 1) 提示固定到底部 */
.hint{
  position: absolute;
  left: 0; right: 0;
  bottom: 10px;           /* ✅ 最底部 */
  text-align: center;
  font-size: 12px;
  opacity: 0.65;
  z-index: 60;
  pointer-events: none;
}

/* 点击提示（没显示完时） */
.tapHint{
  position: absolute;
  left: 0; right: 0;
  bottom: 14px;
  text-align: center;
  font-size: 12px;
  opacity: 0.55;
  z-index: 60;
  pointer-events: none;
  animation: tapPulse 1.6s ease-in-out infinite;
}
@keyframes tapPulse{
  0%,100%{ transform: translateY(0); opacity: .45;}
  50%{ transform: translateY(-2px); opacity: .7;}
}

/* 2) 标题居中 */
.heading{
  text-align: center;     /* ✅ 横向居中 */
  width: 100%;
  margin: 0 0 18px 0;
}

/* 如果你希望标题“版心居中”（垂直更靠中间），给 content 设一个最小高度并居中 */
.content{
  min-height: calc(100svh - 120px);
  display: flex;
  flex-direction: column;
  justify-content: center; /* ✅ 让标题/正文整体更居中 */
}

/* 3) 正文更大一些 */
.line{
  font-size: 15.5px;      /* ✅ 先试这个：明显更容易一行装下 */
  line-height: 1.95;      /* ✅ 仍然保留高级的留白感 */
  margin: 0 0 12px 0;

  /* ✅ 让中文换行更自然（非常关键） */
  word-break: keep-all;          /* 尽量不在汉字中间乱断 */
  overflow-wrap: anywhere;       /* 实在放不下再断 */
  text-wrap: pretty;             /* 支持的浏览器会更好看 */
}


/* 4) 纸张/信纸纹理（不需要图片） */
/* 复古米色纸张 + 粗糙纹理 */
.paper{
  position: absolute;
  inset: 18px 14px 18px 14px;
  border-radius: 16px;
  z-index: 1;
  pointer-events: none;

  /* 米色纸基底 + 暗角 + 暖光 */
  background:
    radial-gradient(1100px 800px at 18% 12%, rgba(255,255,255,0.55), transparent 62%),
    radial-gradient(700px 520px at 85% 78%, rgba(255,214,170,0.22), transparent 60%),
    linear-gradient(180deg, rgba(255,248,234,0.92), rgba(244,232,210,0.86));
  box-shadow:
    0 18px 70px rgba(0,0,0,0.18),
    inset 0 0 0 1px rgba(70,40,10,0.06);
}

/* 粗糙颗粒：用两层随机点阵模拟纸纤维（无横线/格子） */
.paper::before{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 16px;
  opacity: 0.35;
  background-image:
    radial-gradient(rgba(70,40,10,0.08) 1px, transparent 1px),
    radial-gradient(rgba(255,255,255,0.55) 1px, transparent 1px);
  background-size: 14px 14px, 19px 19px;
  background-position: 0 0, 7px 11px;
  filter: blur(0.2px);
}

/* 纸张旧化暗角 + 轻微褶皱感 */
.paper::after{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius: 16px;
  pointer-events:none;
  background:
    radial-gradient(900px 700px at 50% 20%, rgba(255,255,255,0.22), transparent 60%),
    radial-gradient(1200px 900px at 50% 120%, rgba(70,40,10,0.10), transparent 62%),
    radial-gradient(700px 520px at 8% 85%, rgba(90,55,18,0.08), transparent 65%),
    radial-gradient(700px 520px at 92% 88%, rgba(90,55,18,0.07), transparent 65%);
  mix-blend-mode: multiply;
  opacity: 0.55;
}


/* 让内容在纸张之上 */
.content{ position: relative; z-index: 10; }
.bloom{ z-index: 6; }
.burst{ z-index: 8; }
.snow, .petals{ z-index: 7; }

@keyframes twinkle{
  0%,100%{ opacity: .35; transform: translateY(0); }
  50%{ opacity: .75; transform: translateY(-2px); }
}

/* 花瓣飘动（粉色主题） */
.petals{
  position:absolute;
  inset:-40px;
  pointer-events:none;
  opacity:.45;
  background-repeat: repeat;
  mix-blend-mode: multiply;
}
.petals-1{
  background-image:
    radial-gradient(6px 4px at 30px 40px, rgba(255,175,205,0.55) 55%, transparent 60%),
    radial-gradient(5px 3px at 120px 90px, rgba(255,155,195,0.45) 55%, transparent 60%),
    radial-gradient(7px 4px at 210px 140px, rgba(255,185,215,0.35) 55%, transparent 60%);
  background-size: 240px 220px;
  animation: petalsDrift 12s linear infinite;
}
.petals-2{
  background-image:
    radial-gradient(5px 3px at 60px 60px, rgba(255,175,210,0.35) 55%, transparent 60%),
    radial-gradient(6px 4px at 180px 120px, rgba(255,160,205,0.30) 55%, transparent 60%),
    radial-gradient(4px 3px at 240px 80px, rgba(255,195,225,0.25) 55%, transparent 60%);
  background-size: 320px 280px;
  animation: petalsDrift 17s linear infinite;
  opacity: .30;
}

@keyframes petalsDrift{
  from { transform: translateY(-30px) translateX(0px) rotate(0deg); }
  to   { transform: translateY(240px) translateX(24px) rotate(10deg); }
}

/* 正文版心：稍微收窄并居中，让文字不贴左 */
.lines{
  width: min(340px, 90%);
  margin: 0 auto;
}

/* 标题也跟着同一版心更统一 */
.heading{
  width: min(340px, 90%);
  margin-left: auto;
  margin-right: auto;
}

/* warm 段：黄色小星星飘落 */
.starsFall{
  position:absolute;
  inset:-40px;
  pointer-events:none;
  opacity:.55;
  mix-blend-mode: screen;
  z-index: 7;
  background-repeat: repeat;
}

.starsFall-1{
  background-image:
    radial-gradient(2px 2px at 30px 50px, rgba(255,235,165,0.95) 55%, transparent 60%),
    radial-gradient(1.5px 1.5px at 120px 90px, rgba(255,220,140,0.85) 55%, transparent 60%),
    radial-gradient(2px 2px at 210px 140px, rgba(255,240,190,0.75) 55%, transparent 60%);
  background-size: 240px 220px;
  animation: warmDrift 11s linear infinite;
}

.starsFall-2{
  background-image:
    radial-gradient(1.5px 1.5px at 60px 70px, rgba(255,235,170,0.70) 55%, transparent 60%),
    radial-gradient(2px 2px at 180px 120px, rgba(255,220,150,0.60) 55%, transparent 60%),
    radial-gradient(1.2px 1.2px at 240px 80px, rgba(255,245,205,0.55) 55%, transparent 60%);
  background-size: 320px 280px;
  animation: warmDrift 17s linear infinite;
  opacity: .35;
}

@keyframes warmDrift{
  from { transform: translateY(-34px) translateX(0px); }
  to   { transform: translateY(240px) translateX(18px); }
}

/* snow 段：让雪更偏蓝、更梦幻一点（可覆盖你现有 snow） */
.snow{
  opacity: 0.65;
}
.snow-1, .snow-2, .snow-3{
  filter: drop-shadow(0 0 6px rgba(170,220,255,0.35));
}

/* 让纸张轻微透出主题氛围（避免 pink/snow 被染黄） */
.page-warm .paper{
  background:
    radial-gradient(1100px 800px at 18% 12%, rgba(255,255,255,0.48), transparent 62%),
    radial-gradient(700px 520px at 85% 78%, rgba(255,214,170,0.20), transparent 60%),
    linear-gradient(180deg, rgba(255,248,234,0.88), rgba(244,232,210,0.82));
}

.page-pink .paper{
  background:
    radial-gradient(900px 650px at 20% 18%, rgba(255,230,245,0.42), transparent 62%),
    radial-gradient(700px 520px at 85% 78%, rgba(255,170,215,0.16), transparent 60%),
    linear-gradient(180deg, rgba(255,248,238,0.88), rgba(244,232,214,0.82));
}

.page-snow .paper{
  background:
    radial-gradient(900px 650px at 20% 18%, rgba(225,245,255,0.42), transparent 62%),
    radial-gradient(700px 520px at 85% 78%, rgba(170,220,255,0.18), transparent 60%),
    linear-gradient(180deg, rgba(252,250,240,0.88), rgba(244,232,214,0.82));
}

/* 提升纹理可见度：让纸纤维稍微清晰一点 */
.paper::before{ opacity: 0.42; }

/* 飘落层统一放在纸上、文字下 */
.starsFall, .petals, .snow{
  z-index: 9;
}
.burst{ z-index: 10; }
.content{ z-index: 20 !important; }

/* warm 星星：在浅色纸上不要用 screen（太淡），改成 normal + 发光阴影 */
.starsFall{
  mix-blend-mode: normal;
  opacity: 0.75;
  filter: drop-shadow(0 0 8px rgba(255,220,140,0.35));
}

/* snow：改成偏蓝雪点（提升对比） */
.snow-1{
  background-image:
    radial-gradient(2px 2px at 10px 20px, rgba(170,220,255,0.85) 50%, transparent 55%),
    radial-gradient(1px 1px at 60px 80px, rgba(210,235,255,0.80) 50%, transparent 55%),
    radial-gradient(1.5px 1.5px at 120px 140px, rgba(160,210,255,0.72) 50%, transparent 55%);
}
.snow-2{
  background-image:
    radial-gradient(1.5px 1.5px at 20px 30px, rgba(180,225,255,0.72) 50%, transparent 55%),
    radial-gradient(1px 1px at 90px 120px, rgba(220,245,255,0.68) 50%, transparent 55%),
    radial-gradient(2px 2px at 150px 60px, rgba(150,205,255,0.62) 50%, transparent 55%);
}
.snow-3{
  background-image:
    radial-gradient(1px 1px at 40px 50px, rgba(190,235,255,0.62) 50%, transparent 55%),
    radial-gradient(1.3px 1.3px at 140px 160px, rgba(160,215,255,0.58) 50%, transparent 55%),
    radial-gradient(1px 1px at 200px 90px, rgba(220,250,255,0.52) 50%, transparent 55%);
}

/* =========================
   ✅ 终极覆盖：纸张不再染黄主题
   放到 App.css 最末尾
   ========================= */

.page { overflow: hidden; }

/* 纸张：变成“透明白膜”而不是米黄底 */
.paper{
  z-index: 1;
  border-radius: 16px;
  /* ✅ 关键：不再用偏黄的线性渐变当底色 */
  background: rgba(255,255,255,0.72);
  box-shadow:
    0 18px 70px rgba(0,0,0,0.14),
    inset 0 0 0 1px rgba(0,0,0,0.045);
}

/* 分主题：仅做非常轻微的冷暖，不会把背景染黄 */
.page-warm .paper{ background: rgba(255,255,255,0.70); }
.page-pink .paper{ background: rgba(255,255,255,0.70); }
.page-snow .paper{ background: rgba(250,253,255,0.72); }

/* ✅ 纸纤维/颗粒纹理：提高可见度（你现在看不到就靠这一段） */
.paper::before{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 16px;
  pointer-events:none;
  opacity: 0.38; /* ✅ 比你之前明显 */
  background-image:
    radial-gradient(rgba(0,0,0,0.07) 0.8px, transparent 1px),
    radial-gradient(rgba(255,255,255,0.65) 0.9px, transparent 1.1px);
  background-size: 12px 12px, 17px 17px;
  background-position: 0 0, 8px 10px;
  filter: blur(0.15px);
}

/* ✅ 暗角/纸张立体感：不再 multiply（multiply 容易把主题染黄） */
.paper::after{
  content:"";
  position:absolute;
  inset: -2px;
  border-radius: 16px;
  pointer-events:none;
  opacity: 0.42;
  background:
    radial-gradient(900px 700px at 50% 20%, rgba(255,255,255,0.22), transparent 60%),
    radial-gradient(1200px 900px at 50% 120%, rgba(0,0,0,0.10), transparent 62%),
    radial-gradient(700px 520px at 8% 85%, rgba(0,0,0,0.06), transparent 65%),
    radial-gradient(700px 520px at 92% 88%, rgba(0,0,0,0.05), transparent 65%);
  mix-blend-mode: normal;
}

/* ✅ 层级统一（你现在 CSS 里 z-index 很混乱，这里强行统一） */
.bloom { z-index: 2; }
.paper { z-index: 3; }
.starsFall, .petals, .snow { z-index: 6; }
.burst { z-index: 7; }
.content { z-index: 10 !important; }
.hint, .tapHint { z-index: 11; }

/* =========================
   ✅ 飘落增强：warm 星星更显眼 / snow 蓝雪更显眼
   ========================= */

/* warm 星星：更亮、更大、带发光 */
.starsFall{
  opacity: 0.85;
  filter: drop-shadow(0 0 10px rgba(255,205,120,0.45));
  mix-blend-mode: normal;
}

.starsFall-1{
  background-image:
    radial-gradient(2.6px 2.6px at 30px 50px, rgba(255,210,120,0.95) 55%, transparent 60%),
    radial-gradient(2.2px 2.2px at 120px 90px, rgba(255,230,160,0.90) 55%, transparent 60%),
    radial-gradient(2.8px 2.8px at 210px 140px, rgba(255,245,190,0.85) 55%, transparent 60%);
  background-size: 220px 210px;
}

.starsFall-2{
  opacity: 0.55;
  background-image:
    radial-gradient(2.0px 2.0px at 60px 70px, rgba(255,220,145,0.70) 55%, transparent 60%),
    radial-gradient(2.4px 2.4px at 180px 120px, rgba(255,210,140,0.65) 55%, transparent 60%),
    radial-gradient(1.8px 1.8px at 240px 80px, rgba(255,245,205,0.60) 55%, transparent 60%);
  background-size: 300px 270px;
}

/* snow：改成偏蓝雪点 + 更强发光 */
.snow{
  opacity: 0.70;
  filter: drop-shadow(0 0 10px rgba(150,210,255,0.50));
  mix-blend-mode: normal;
}

.snow-1{
  background-image:
    radial-gradient(2.3px 2.3px at 10px 20px, rgba(155,210,255,0.85) 50%, transparent 55%),
    radial-gradient(1.6px 1.6px at 60px 80px, rgba(210,240,255,0.80) 50%, transparent 55%),
    radial-gradient(2.0px 2.0px at 120px 140px, rgba(130,195,255,0.72) 50%, transparent 55%);
}
.snow-2{
  background-image:
    radial-gradient(1.9px 1.9px at 20px 30px, rgba(170,225,255,0.75) 50%, transparent 55%),
    radial-gradient(1.4px 1.4px at 90px 120px, rgba(225,250,255,0.70) 50%, transparent 55%),
    radial-gradient(2.3px 2.3px at 150px 60px, rgba(120,185,255,0.65) 50%, transparent 55%);
}
.snow-3{
  background-image:
    radial-gradient(1.4px 1.4px at 40px 50px, rgba(200,240,255,0.60) 50%, transparent 55%),
    radial-gradient(1.8px 1.8px at 140px 160px, rgba(145,205,255,0.58) 50%, transparent 55%),
    radial-gradient(1.3px 1.3px at 200px 90px, rgba(235,252,255,0.55) 50%, transparent 55%);
}

/* 爆闪只在纸张范围视觉上更自然 */
.burst{
  mask-image: radial-gradient(closest-side at 50% 50%, rgba(0,0,0,1), rgba(0,0,0,0));
  mask-size: 140% 140%;
  mask-position: center;
}

.warmStars{
  position:absolute;
  inset:-40px;
  pointer-events:none;
  z-index: 6;      /* 和 petals/snow 同级 */
  opacity: 0.85;
  filter: drop-shadow(0 0 10px rgba(255,205,120,0.35));
}

.bgmBtn{
  position: fixed;
  top: 14px;
  right: 14px;
  z-index: 9999;
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.25);
  background: rgba(20,18,30,0.35);
  color: rgba(255,255,255,0.9);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  cursor: pointer;
}
